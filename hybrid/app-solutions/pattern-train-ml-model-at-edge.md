---
title: Шаблон обучения модели машинного обучения на пограничных устройствах
description: Узнайте, как обучить модель машинного обучения на пограничном устройстве с помощью служб Azure и Azure Stack Hub.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: da1012cc8847f221de6bb540ba4e191e43920f41
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911096"
---
# <a name="train-machine-learning-model-at-the-edge-pattern"></a>Шаблон обучения модели машинного обучения на пограничных устройствах

Создавайте переносимые модели машинного обучения ML на основе данных, которые существуют только в локальной среде.

## <a name="context-and-problem"></a>Контекст и проблема

Многим организациям хотелось бы получить доступ к полезным сведениям из локальных или устаревших данных с помощью средств, понятных для их специалистов по обработке и анализу данных. Служба [Машинное обучение Azure](/azure/machine-learning/) предоставляет облачные средства для обучения, настройки и развертывания моделей машинного обучения и глубокого обучения.  

Но некоторые данные слишком велики для отправки в облако или их нельзя отправить в облако из-за нормативных требований. С помощью этого шаблона специалисты по обработке и анализу данных могут использовать Машинное обучение Azure для обучения моделей на основе локальных данных и вычислений.

## <a name="solution"></a>Решение

В шаблоне обучения на пограничном устройстве используется виртуальная машина, работающая в Azure Stack Hub. Виртуальная машина регистрируется в качестве целевого объекта вычислений в Azure ML, что обеспечивает ей доступ к данным, доступным только в локальной среде. В этом случае данные хранятся в хранилище BLOB-объектов Azure Stack Hub.

После обучения модели она регистрируется в Azure ML, помещается в контейнер и добавляется в Реестр контейнеров Azure для развертывания. Для этой итерации шаблона виртуальная машина для обучения Azure Stack Hub должна быть доступна через общедоступный Интернет.

[![Обучение модели ML в пограничной архитектуре](media/pattern-train-ml-model-at-edge/solution-architecture.png)](media/pattern-train-ml-model-at-edge/solution-architecture.png)

Вот как работает этот шаблон:

1. Виртуальная машина Azure Stack Hub развертывается и регистрируется в качестве целевого объекта вычислений для Azure ML.
2. В Azure ML создается эксперимент, в котором в качестве целевого объекта вычислений используется виртуальная машина Azure Stack Hub.
3. Как только модель будет обучена, она будет зарегистрирована и помещена в контейнер.
4. Теперь модель можно развернуть в расположениях, которые находятся в локальной среде или в облаке.

## <a name="components"></a>Components

Это решение использует следующие компоненты.

| Уровень | Компонент | Описание |
|----------|-----------|-------------|
| Azure | Машинное обучение Azure | [Машинное обучение Azure](/azure/machine-learning/) координирует обучение модели ML. |
| | Реестр контейнеров Azure | Azure ML упаковывает модель в контейнер и сохраняет ее в [Реестре контейнеров Azure](/azure/container-registry/) для развертывания.|
| Azure Stack Hub | Служба приложений | [Azure Stack Hub со Службой приложений](/azure-stack/operator/azure-stack-app-service-overview) предоставляет основу для компонентов на пограничном устройстве. |
| | Службы вычислений | Для обучения модели ML используется виртуальная машина Azure Stack Hub под управлением Ubuntu с Docker. |
| | Память | Частные данные могут размещаться в хранилище BLOB-объектов Azure Stack Hub. |

## <a name="issues-and-considerations"></a>Проблемы и рекомендации

Во время выбора варианта реализации этого решения необходимо учитывать приведенные ниже моменты.

### <a name="scalability"></a>Масштабируемость

Чтобы обеспечить масштабирование решения, в Azure Stack Hub необходимо создать виртуальную машину соответствующего размера для обучения.

### <a name="availability"></a>Доступность

Убедитесь, что скрипты обучения и виртуальная машина Azure Stack Hub имеют доступ к локальным данным, используемым для обучения.

### <a name="manageability"></a>Управляемость

Убедитесь, что модели и эксперименты зарегистрированы надлежащим образом, имеют подходящую версию и помечены тегами во избежание путаницы во время развертывания модели.

### <a name="security"></a>Безопасность

Этот шаблон позволяет Azure ML получать доступ к возможным конфиденциальным данным в локальной среде. Убедитесь, что учетная запись, используемая для подключения по протоколу SSH к виртуальной машине Azure Stack Hub, имеет надежный пароль, а скрипты обучения не сохраняют или не передают данные в облако.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения по темам, описанным в этой статье:

- Общие сведения о ML и связанные разделы см. в [документации по Azure ML](/azure/machine-learning).
- Дополнительные сведения о создании, хранении образов и управлении ими см. в [документации по Реестру контейнеров Azure](/azure/container-registry/).
- Дополнительные сведения о поставщике ресурсов и способах развертывания см. в статье [Обзор Службы приложений Azure в Azure Stack](/azure-stack/operator/azure-stack-app-service-overview).
- См. [рекомендации по проектированию гибридных приложений и ответы на дополнительные вопросы](overview-app-design-considerations.md).
- См. сведения обо [всех продуктах и решениях Azure Stack](/azure-stack).

Когда вы будете готовы протестировать пример решения, продолжите работу с [руководством по развертыванию обучения модели ML на пограничном устройстве](https://aka.ms/edgetrainingdeploy). В этом руководстве содержатся пошаговые инструкции по развертыванию и тестированию компонентов.
