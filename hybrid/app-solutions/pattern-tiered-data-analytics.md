---
title: Шаблон решения для распределения данных по уровням для аналитики в Azure и Azure Stack Hub
description: Узнайте, как с помощью Azure и Azure Stack Hub реализовать решение для распределения данных по уровням в гибридном облаке.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: b671fa9f47fa51ab6e40633c04964957d613fec2
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911249"
---
# <a name="tiered-data-for-analytics-pattern"></a><span data-ttu-id="87a4e-103">Шаблон распределения данных по уровням для аналитики</span><span class="sxs-lookup"><span data-stu-id="87a4e-103">Tiered data for analytics pattern</span></span>

<span data-ttu-id="87a4e-104">В этом шаблоне показано, как с помощью Azure Stack Hub и Azure размещать, анализировать, обрабатывать, очищать и хранить данные в нескольких локальных и облачных расположениях.</span><span class="sxs-lookup"><span data-stu-id="87a4e-104">This pattern illustrates how to use Azure Stack Hub and Azure to stage, analyze, process, sanitize, and store data across multiple on-premises and cloud locations.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="87a4e-105">Контекст и проблема</span><span class="sxs-lookup"><span data-stu-id="87a4e-105">Context and problem</span></span>

<span data-ttu-id="87a4e-106">Одна из проблем, с которыми сталкиваются предприятия при работе с современными технологиями, связана с обеспечением безопасного хранения, обработки и анализа данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-106">One of the problems facing enterprise organizations in the modern technology landscape concerns secure data storage, processing, and analyzing.</span></span> <span data-ttu-id="87a4e-107">С этим связаны такие аспекты:</span><span class="sxs-lookup"><span data-stu-id="87a4e-107">Considerations include:</span></span>

- <span data-ttu-id="87a4e-108">содержимое данных;</span><span class="sxs-lookup"><span data-stu-id="87a4e-108">data content</span></span>
- <span data-ttu-id="87a4e-109">location</span><span class="sxs-lookup"><span data-stu-id="87a4e-109">location</span></span>
- <span data-ttu-id="87a4e-110">требования к безопасности и конфиденциальности;</span><span class="sxs-lookup"><span data-stu-id="87a4e-110">security and privacy requirements</span></span>
- <span data-ttu-id="87a4e-111">права доступа;</span><span class="sxs-lookup"><span data-stu-id="87a4e-111">access permissions</span></span>
- <span data-ttu-id="87a4e-112">обслуживание;</span><span class="sxs-lookup"><span data-stu-id="87a4e-112">maintenance</span></span>
- <span data-ttu-id="87a4e-113">хранение хранилищ.</span><span class="sxs-lookup"><span data-stu-id="87a4e-113">storage warehousing</span></span>

<span data-ttu-id="87a4e-114">Azure, в сочетании с Azure Stack Hub, устраняет проблемы с данными и предлагает бюджетные решения.</span><span class="sxs-lookup"><span data-stu-id="87a4e-114">Azure, in combination with Azure Stack Hub, addresses data concerns and offers low-cost solutions.</span></span> <span data-ttu-id="87a4e-115">Это решение лучше всего подходит распределенной производственной или логистической компании.</span><span class="sxs-lookup"><span data-stu-id="87a4e-115">This solution is best expressed through a distributed manufacturing or logistics company.</span></span>

<span data-ttu-id="87a4e-116">Решение основано на следующем сценарии:</span><span class="sxs-lookup"><span data-stu-id="87a4e-116">The solution is based on the following scenario:</span></span>

- <span data-ttu-id="87a4e-117">Имеется крупная производственная организация с несколькими филиалами.</span><span class="sxs-lookup"><span data-stu-id="87a4e-117">A large multi-branch manufacturing organization.</span></span>
- <span data-ttu-id="87a4e-118">Требуется быстрое и безопасное хранение, обработка и распределение данных между глобальными удаленными расположениями и центральным офисом.</span><span class="sxs-lookup"><span data-stu-id="87a4e-118">Rapid and secure data storage, processing, and distribution between global remote locations and its central headquarters are required.</span></span>
- <span data-ttu-id="87a4e-119">Действия сотрудников и оборудования, сведения об оборудовании и данные бизнес-отчетности, которые должны оставаться безопасными.</span><span class="sxs-lookup"><span data-stu-id="87a4e-119">Employee and machinery activity, facility information, and business reporting data that must remain secure.</span></span> <span data-ttu-id="87a4e-120">Данные должны быть распределены соответствующим образом и отвечать региональным политикам соответствия и отраслевым стандартам.</span><span class="sxs-lookup"><span data-stu-id="87a4e-120">The data must be distributed appropriately and meet regional compliance policy and industry regulations.</span></span>

## <a name="solution"></a><span data-ttu-id="87a4e-121">Решение</span><span class="sxs-lookup"><span data-stu-id="87a4e-121">Solution</span></span>

<span data-ttu-id="87a4e-122">Использование локальных и общедоступных облачных сред соответствует требованиям предприятий с несколькими филиалами или офисами.</span><span class="sxs-lookup"><span data-stu-id="87a4e-122">Using both on-premises and public cloud environments meets the demands of multi-facility enterprises.</span></span> <span data-ttu-id="87a4e-123">Azure Stack Hub предлагает быстрое, безопасное и гибкое решение для сбора, обработки, хранения и распространения локально и удаленно хранимых данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-123">Azure Stack Hub offers a rapid, secure, and flexible solution for collecting, processing, storing, and distributing local and remote data.</span></span> <span data-ttu-id="87a4e-124">Этот шаблон будет особенно полезен, когда требования к безопасности и конфиденциальности, а также нормативные и корпоративные требования отличаются в разных расположениях и для разных пользователей.</span><span class="sxs-lookup"><span data-stu-id="87a4e-124">This pattern is especially useful when security, confidentiality, corporate policy, and regulatory requirements may differ between locations and users.</span></span>

![Архитектура шаблона решения для распределения данных по уровням для аналитики](media/pattern-tiered-data-analytics/solution-architecture.png)

## <a name="components"></a><span data-ttu-id="87a4e-126">Components</span><span class="sxs-lookup"><span data-stu-id="87a4e-126">Components</span></span>

<span data-ttu-id="87a4e-127">Шаблон имеет следующие компоненты.</span><span class="sxs-lookup"><span data-stu-id="87a4e-127">This pattern uses the following components:</span></span>

| <span data-ttu-id="87a4e-128">Уровень</span><span class="sxs-lookup"><span data-stu-id="87a4e-128">Layer</span></span> | <span data-ttu-id="87a4e-129">Компонент</span><span class="sxs-lookup"><span data-stu-id="87a4e-129">Component</span></span> | <span data-ttu-id="87a4e-130">Описание</span><span class="sxs-lookup"><span data-stu-id="87a4e-130">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="87a4e-131">Azure</span><span class="sxs-lookup"><span data-stu-id="87a4e-131">Azure</span></span> | <span data-ttu-id="87a4e-132">Память</span><span class="sxs-lookup"><span data-stu-id="87a4e-132">Storage</span></span> | <span data-ttu-id="87a4e-133">Учетная запись [службы хранилища Azure](/azure/storage/) предоставляет конечную точку потребления стерильных данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-133">An [Azure Storage](/azure/storage/) account provides a sterile data consumption endpoint.</span></span> <span data-ttu-id="87a4e-134">Служба хранилища Azure — это облачное решение от Майкрософт, позволяющее реализовать современные сценарии хранения данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-134">Azure Storage is Microsoft's cloud storage solution for modern data storage scenarios.</span></span> <span data-ttu-id="87a4e-135">В службе хранилища Azure предоставляется хранилище с высокой масштабируемостью для объектов данных и служба файловой системы для облака.</span><span class="sxs-lookup"><span data-stu-id="87a4e-135">Azure Storage offers a massively scalable object store for data objects and a file system service for the cloud.</span></span> <span data-ttu-id="87a4e-136">Она также предоставляет хранилище сообщений для надежного обмена сообщениями и хранилище NoSQL.</span><span class="sxs-lookup"><span data-stu-id="87a4e-136">It also provides a messaging store for reliable messaging and a NoSQL store.</span></span> |
| <span data-ttu-id="87a4e-137">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="87a4e-137">Azure Stack Hub</span></span> | <span data-ttu-id="87a4e-138">Память</span><span class="sxs-lookup"><span data-stu-id="87a4e-138">Storage</span></span> | <span data-ttu-id="87a4e-139">Учетная запись [службы хранилища Azure Stack Hub](/azure-stack/user/azure-stack-storage-overview) используется для нескольких служб.</span><span class="sxs-lookup"><span data-stu-id="87a4e-139">An [Azure Stack Hub Storage](/azure-stack/user/azure-stack-storage-overview) account is used for multiple services:</span></span><br><br><span data-ttu-id="87a4e-140">- **Хранилище BLOB-объектов** для хранения необработанных данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-140">- **Blob storage** for raw data storage.</span></span> <span data-ttu-id="87a4e-141">В хранилище BLOB-объектов могут храниться текстовые или двоичные данные любого типа, например документы, файлы мультимедиа или установщики приложений.</span><span class="sxs-lookup"><span data-stu-id="87a4e-141">Blob storage can hold any type of text or binary data, such as a document, media file, or app installer.</span></span> <span data-ttu-id="87a4e-142">Все большие двоичные объекты организованы в контейнеры.</span><span class="sxs-lookup"><span data-stu-id="87a4e-142">Every blob is organized under a container.</span></span> <span data-ttu-id="87a4e-143">Контейнеры предоставляют удобный способ назначения политик безопасности группам объектов.</span><span class="sxs-lookup"><span data-stu-id="87a4e-143">Containers provide a useful way to assign security policies to groups of objects.</span></span> <span data-ttu-id="87a4e-144">Учетная запись хранения может содержать любое количество контейнеров, а контейнер может содержать любое количество больших двоичных объектов. Емкость учетной записи хранения ограничена 500 ТБ.</span><span class="sxs-lookup"><span data-stu-id="87a4e-144">A storage account may contain any number of containers, and a container can contain any number of blobs, up to the 500-TB capacity limit of the storage account.</span></span><br><span data-ttu-id="87a4e-145">- **Хранилище BLOB-объектов** для архива данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-145">- **Blob storage** for data archive.</span></span> <span data-ttu-id="87a4e-146">Недорогое хранилище для архивирования холодных данных дает определенные преимущества.</span><span class="sxs-lookup"><span data-stu-id="87a4e-146">There are benefits to low-cost storage for cool data archiving.</span></span> <span data-ttu-id="87a4e-147">К примерам холодных данных относятся резервные копии, мультимедийное содержимое, данные научных исследований, сведения о соответствии требованиям и архивные данные.</span><span class="sxs-lookup"><span data-stu-id="87a4e-147">Examples of cool data include backups, media content, scientific data, compliance, and archival data.</span></span> <span data-ttu-id="87a4e-148">Как правило, все данные, к которым редко осуществляется доступ, считаются данными с холодным уровнем доступа.</span><span class="sxs-lookup"><span data-stu-id="87a4e-148">In general, any data that's accessed infrequently is considered cool storage.</span></span> <span data-ttu-id="87a4e-149">Распределение данных происходит на основе таких атрибутов, как частота доступа и период хранения.</span><span class="sxs-lookup"><span data-stu-id="87a4e-149">Tiering data based on attributes like frequency of access and retention period.</span></span> <span data-ttu-id="87a4e-150">Доступ к данным клиента осуществляется нечасто, но для них требуется такая же задержка и производительность, что и для горячих данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-150">Customer data is infrequently accessed but requires similar latency and performance to hot data.</span></span><br><span data-ttu-id="87a4e-151">- **Хранилище очередей** для хранилища обработанных данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-151">- **Queue storage** for processed data storage.</span></span> <span data-ttu-id="87a4e-152">Хранилище очередей обеспечивает обмен сообщениями в облаке между компонентами приложения.</span><span class="sxs-lookup"><span data-stu-id="87a4e-152">Queue storage provides cloud messaging between app components.</span></span> <span data-ttu-id="87a4e-153">При разработке масштабируемых приложений компоненты приложения часто не связаны между собой, поэтому они могут масштабироваться независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="87a4e-153">In designing apps for scale, app components are often decoupled so they can scale independently.</span></span> <span data-ttu-id="87a4e-154">Хранилище очередей обеспечивает асинхронный обмен сообщениями для взаимодействия между компонентами приложения независимо от того, где они выполняются: в облаке, на рабочем столе, локальном сервере или мобильном устройстве.</span><span class="sxs-lookup"><span data-stu-id="87a4e-154">Queue storage delivers asynchronous messaging for communication between app components, whether they're running in the cloud, on the desktop, an on-premises server, or a mobile device.</span></span> <span data-ttu-id="87a4e-155">Хранилище очередей также поддерживает управление асинхронными задачами и создание рабочих процессов.</span><span class="sxs-lookup"><span data-stu-id="87a4e-155">Queue storage also supports managing asynchronous tasks and building process work flows.</span></span> |
| | <span data-ttu-id="87a4e-156">Функции Azure</span><span class="sxs-lookup"><span data-stu-id="87a4e-156">Azure Functions</span></span> | <span data-ttu-id="87a4e-157">Служба [Функции Azure](/azure/azure-functions/) предоставляется [Службой приложений Azure в поставщике ресурсов Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview).</span><span class="sxs-lookup"><span data-stu-id="87a4e-157">The [Azure Functions](/azure/azure-functions/) service is provided by the [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) resource provider.</span></span> <span data-ttu-id="87a4e-158">Функции Azure позволяют выполнять код в простой бессерверной среде в ответ на различные события.</span><span class="sxs-lookup"><span data-stu-id="87a4e-158">Azure Functions lets you execute your code in a simple, serverless environment in response to a variety of events.</span></span> <span data-ttu-id="87a4e-159">Служба "Функции Azure" масштабируется для удовлетворения спроса. При этом нет необходимости создавать виртуальную машину или публиковать веб-приложение с использованием выбранного языка программирования.</span><span class="sxs-lookup"><span data-stu-id="87a4e-159">Azure Functions scale to meet demand without having to create a VM or publish a web app, using the programming language of your choice.</span></span> <span data-ttu-id="87a4e-160">Функции используются в решении для следующих задач:</span><span class="sxs-lookup"><span data-stu-id="87a4e-160">Functions are used by the solution for:</span></span><br><br><span data-ttu-id="87a4e-161">- **Принятие данных**.</span><span class="sxs-lookup"><span data-stu-id="87a4e-161">- **Data intake**</span></span><br><span data-ttu-id="87a4e-162">- **Стерилизация данных**.</span><span class="sxs-lookup"><span data-stu-id="87a4e-162">- **Data sterilization.**</span></span> <span data-ttu-id="87a4e-163">Активируемые вручную функции могут выполнять запланированную обработку, очистку и архивацию данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-163">Manually triggered functions can perform scheduled data processing, clean up, and archiving.</span></span> <span data-ttu-id="87a4e-164">К примерам относятся ночные очистки списка клиентов и обработка ежемесячных отчетов.</span><span class="sxs-lookup"><span data-stu-id="87a4e-164">Examples may include nightly customer list scrubs and monthly report processing.</span></span>|

## <a name="issues-and-considerations"></a><span data-ttu-id="87a4e-165">Проблемы и рекомендации</span><span class="sxs-lookup"><span data-stu-id="87a4e-165">Issues and considerations</span></span>

<span data-ttu-id="87a4e-166">Во время выбора варианта реализации этого решения необходимо учитывать приведенные ниже моменты.</span><span class="sxs-lookup"><span data-stu-id="87a4e-166">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="87a4e-167">Масштабируемость</span><span class="sxs-lookup"><span data-stu-id="87a4e-167">Scalability</span></span>

<span data-ttu-id="87a4e-168">Функции Azure и решения для хранения данных масштабируются в соответствии с требованиями к объему и обработке данных.</span><span class="sxs-lookup"><span data-stu-id="87a4e-168">Azure Functions and storage solutions scale to meet data volume and processing demands.</span></span> <span data-ttu-id="87a4e-169">Сведения о масштабируемости Azure и целевые показатели см. в [документации по масштабируемости службы хранилища Azure](/azure/storage/common/storage-scalability-targets).</span><span class="sxs-lookup"><span data-stu-id="87a4e-169">For Azure scalability information and targets, see [Azure Storage scalability documentation](/azure/storage/common/storage-scalability-targets).</span></span>

### <a name="availability"></a><span data-ttu-id="87a4e-170">Доступность</span><span class="sxs-lookup"><span data-stu-id="87a4e-170">Availability</span></span>

<span data-ttu-id="87a4e-171">Хранение данных — основной фактор доступности для этого шаблона.</span><span class="sxs-lookup"><span data-stu-id="87a4e-171">Storage is the primary availability consideration for this pattern.</span></span> <span data-ttu-id="87a4e-172">Для обработки и распространения больших объемов данных необходимо подключение с помощью высокоскоростных каналов.</span><span class="sxs-lookup"><span data-stu-id="87a4e-172">Connection via fast links is required for large data volume processing and distribution.</span></span>

### <a name="manageability"></a><span data-ttu-id="87a4e-173">Управляемость</span><span class="sxs-lookup"><span data-stu-id="87a4e-173">Manageability</span></span>

<span data-ttu-id="87a4e-174">Управляемость этого решения зависит от используемых средств разработки и применения системы управления версиями.</span><span class="sxs-lookup"><span data-stu-id="87a4e-174">Manageability of this solution depends on authoring tools in use and engagement of source control.</span></span>

## <a name="next-steps"></a><span data-ttu-id="87a4e-175">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="87a4e-175">Next steps</span></span>

<span data-ttu-id="87a4e-176">Дополнительные сведения по темам, описанным в этой статье:</span><span class="sxs-lookup"><span data-stu-id="87a4e-176">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="87a4e-177">Ознакомьтесь с документацией по [службе хранилища Azure](/azure/storage/) и [Функциям Azure](/azure/azure-functions/).</span><span class="sxs-lookup"><span data-stu-id="87a4e-177">See the [Azure Storage](/azure/storage/) and [Azure Functions](/azure/azure-functions/) documentation.</span></span> <span data-ttu-id="87a4e-178">Этот шаблон активно использует учетные записи службы хранилища Azure и Функции Azure в Azure и Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="87a4e-178">This pattern makes heavy use of Azure Storage accounts and Azure Functions on both Azure and Azure Stack Hub.</span></span>
- <span data-ttu-id="87a4e-179">См. [рекомендации по проектированию гибридных приложений и ответы на дополнительные вопросы](overview-app-design-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="87a4e-179">See [Hybrid application design considerations](overview-app-design-considerations.md) to learn more about best practices and to get answers to additional questions.</span></span>
- <span data-ttu-id="87a4e-180">См. сведения обо [всех продуктах и решениях Azure Stack](/azure-stack).</span><span class="sxs-lookup"><span data-stu-id="87a4e-180">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="87a4e-181">Когда вы будете готовы протестировать пример решения, продолжите работу с руководством по развертыванию [решения распределения данных по уровням для аналитики](https://aka.ms/tiereddatadeploy).</span><span class="sxs-lookup"><span data-stu-id="87a4e-181">When you're ready to test the solution example, continue with the [Tiered data for analytics solution deployment guide](https://aka.ms/tiereddatadeploy).</span></span> <span data-ttu-id="87a4e-182">В этом руководстве содержатся пошаговые инструкции по развертыванию и тестированию компонентов.</span><span class="sxs-lookup"><span data-stu-id="87a4e-182">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
