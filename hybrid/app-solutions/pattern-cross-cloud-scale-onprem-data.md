---
title: Шаблон решения для масштабирования в разных облаках (локальные данные) для Azure Stack Hub
description: Узнайте, как создать масштабируемое приложение, использующее локальные данные, в Azure и Azure Stack Hub.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: edbb608fbf8e5288f29572bfe4cca98ffb3cb8fc
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911124"
---
# <a name="cross-cloud-scaling-on-premises-data-pattern"></a><span data-ttu-id="b5f1f-103">Шаблон решения для масштабирования в разных облаках (локальные данные)</span><span class="sxs-lookup"><span data-stu-id="b5f1f-103">Cross-cloud scaling (on-premises data) pattern</span></span>

<span data-ttu-id="b5f1f-104">Узнайте, как создать гибридное приложение с поддержкой Azure и Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-104">Learn how to build a hybrid app that spans Azure and Azure Stack Hub.</span></span> <span data-ttu-id="b5f1f-105">Этот шаблон также показывает, как использовать один источник локальных данных для обеспечения соответствия.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-105">This pattern also shows you how to use a single on-premises data source for compliance.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="b5f1f-106">Контекст и проблема</span><span class="sxs-lookup"><span data-stu-id="b5f1f-106">Context and problem</span></span>

<span data-ttu-id="b5f1f-107">Многие организации собирают и хранят значительный объем конфиденциальных данных своих клиентов.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-107">Many organizations collect and store massive amounts of sensitive customer data.</span></span> <span data-ttu-id="b5f1f-108">Часто им запрещено хранить конфиденциальные данные в общедоступном облаке согласно корпоративным или государственным нормативным требованиям.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-108">Frequently they're prevented from storing sensitive data in the public cloud because of corporate regulations or government policy.</span></span> <span data-ttu-id="b5f1f-109">Эти организации также хотят воспользоваться преимуществами масштабируемости общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-109">Those organizations also want to take advantage of the scalability of the public cloud.</span></span> <span data-ttu-id="b5f1f-110">Общедоступное облако может справляться с сезонными пиковыми нагрузками трафика, что позволяет клиентам платить только за требуемое оборудование по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-110">The public cloud can handle seasonal peaks in traffic, allowing customers to pay for exactly the hardware they need, when they need it.</span></span>

## <a name="solution"></a><span data-ttu-id="b5f1f-111">Решение</span><span class="sxs-lookup"><span data-stu-id="b5f1f-111">Solution</span></span>

<span data-ttu-id="b5f1f-112">Решение обеспечивает преимущества соответствия частного облака, сочетая их с масштабируемостью общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-112">The solution takes advantage of the compliance benefits of the private cloud, combining them with the scalability of the public cloud.</span></span> <span data-ttu-id="b5f1f-113">Гибридное облако Azure и Azure Stack Hub обеспечивает согласованную работу для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-113">The Azure and Azure Stack Hub hybrid cloud provide a consistent experience for developers.</span></span> <span data-ttu-id="b5f1f-114">Такая согласованность позволяет им применять свои навыки в общедоступных облаках и локальных средах.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-114">This consistency lets them apply their skills to both public cloud and on-premises environments.</span></span>

<span data-ttu-id="b5f1f-115">Используя руководство по развертыванию решения, можно развернуть идентичное веб-приложение в общедоступном и частном облаке.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-115">The solution deployment guide allows you to deploy an identical web app to a public and private cloud.</span></span> <span data-ttu-id="b5f1f-116">Вы также можете получить доступ к маршрутизируемой сети, недоступной из Интернета и размещенной в частном облаке.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-116">You can also access a non-internet routable network hosted on the private cloud.</span></span> <span data-ttu-id="b5f1f-117">В веб-приложениях отслеживается нагрузка.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-117">The web apps are monitored for load.</span></span> <span data-ttu-id="b5f1f-118">При значительном увеличении трафика программа управляет записями DNS, чтобы перенаправить трафик в общедоступное облако.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-118">Upon a significant increase in traffic, a program manipulates DNS records to redirect traffic to the public cloud.</span></span> <span data-ttu-id="b5f1f-119">При снижении трафика записи DNS обновляются, чтобы направить трафик обратно в частное облако.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-119">When traffic is no longer significant, the DNS records are updated to direct traffic back to the private cloud.</span></span>

<span data-ttu-id="b5f1f-120">[![Шаблон решения для масштабирования в разных облаках (локальные данные)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)</span><span class="sxs-lookup"><span data-stu-id="b5f1f-120">[![Cross-cloud scaling with on-prem data pattern](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)</span></span>

## <a name="components"></a><span data-ttu-id="b5f1f-121">Components</span><span class="sxs-lookup"><span data-stu-id="b5f1f-121">Components</span></span>

<span data-ttu-id="b5f1f-122">Это решение использует следующие компоненты.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-122">This solution uses the following components:</span></span>

| <span data-ttu-id="b5f1f-123">Уровень</span><span class="sxs-lookup"><span data-stu-id="b5f1f-123">Layer</span></span> | <span data-ttu-id="b5f1f-124">Компонент</span><span class="sxs-lookup"><span data-stu-id="b5f1f-124">Component</span></span> | <span data-ttu-id="b5f1f-125">Описание</span><span class="sxs-lookup"><span data-stu-id="b5f1f-125">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="b5f1f-126">Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-126">Azure</span></span> | <span data-ttu-id="b5f1f-127">Служба приложений Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-127">Azure App Service</span></span> | <span data-ttu-id="b5f1f-128">[Служба приложений Azure](/azure/app-service/) позволяет создавать и размещать веб-приложения, приложения RESTful API и Функции Azure.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-128">[Azure App Service](/azure/app-service/) allows you to build and host web apps, RESTful API apps, and Azure Functions.</span></span> <span data-ttu-id="b5f1f-129">Все на любом языке программирования без необходимости управления инфраструктурой.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-129">All in the programming language of your choice, without managing infrastructure.</span></span> |
| | <span data-ttu-id="b5f1f-130">Виртуальная сеть Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-130">Azure Virtual Network</span></span>| <span data-ttu-id="b5f1f-131">[Виртуальная сеть (VNET) Azure](/azure/virtual-network/virtual-networks-overview) — это стандартный строительный блок для вашей частной сети в Azure.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-131">[Azure Virtual Network (VNet)](/azure/virtual-network/virtual-networks-overview) is the fundamental building block for private networks in Azure.</span></span> <span data-ttu-id="b5f1f-132">Виртуальная сеть позволяет ресурсам Azure различных типов (например, виртуальным машинам) обмениваться данными друг с другом через локальные сети и через Интернет.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-132">VNet enables multiple Azure resource types, such as virtual machines (VM), to securely communicate with each other, the internet, and on-premises networks.</span></span> <span data-ttu-id="b5f1f-133">В решении также демонстрируется использование дополнительных сетевых компонентов:</span><span class="sxs-lookup"><span data-stu-id="b5f1f-133">The solution also demonstrates the use of additional networking components:</span></span><br><span data-ttu-id="b5f1f-134">— подсети приложения и шлюза;</span><span class="sxs-lookup"><span data-stu-id="b5f1f-134">- app and gateway subnets.</span></span><br><span data-ttu-id="b5f1f-135">— локальный сетевой шлюз;</span><span class="sxs-lookup"><span data-stu-id="b5f1f-135">- a local on-premises network gateway.</span></span><br><span data-ttu-id="b5f1f-136">— шлюз виртуальной сети, который выступает в качестве подключения VPN-шлюза типа "сеть — сеть";</span><span class="sxs-lookup"><span data-stu-id="b5f1f-136">- a virtual network gateway, which acts as a site-to-site VPN gateway connection.</span></span><br><span data-ttu-id="b5f1f-137">— общедоступный IP-адрес;</span><span class="sxs-lookup"><span data-stu-id="b5f1f-137">- a public IP address.</span></span><br><span data-ttu-id="b5f1f-138">— VPN-подключение "точка — сеть";</span><span class="sxs-lookup"><span data-stu-id="b5f1f-138">- a point-to-site VPN connection.</span></span><br><span data-ttu-id="b5f1f-139">— Azure DNS для размещения доменов DNS и предоставления разрешения имен.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-139">- Azure DNS for hosting DNS domains and providing name resolution.</span></span> |
| | <span data-ttu-id="b5f1f-140">Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="b5f1f-140">Azure Traffic Manager</span></span> | <span data-ttu-id="b5f1f-141">[Диспетчер трафика Azure](/azure/traffic-manager/traffic-manager-overview) — это балансировщик нагрузки трафика на основе DNS.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-141">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview) is a DNS-based traffic load balancer.</span></span> <span data-ttu-id="b5f1f-142">Он позволяет управлять распределением пользовательского трафика между конечными точками службы в разных центрах обработки данных.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-142">It allows you to control the distribution of user traffic for service endpoints in different datacenters.</span></span> |
| | <span data-ttu-id="b5f1f-143">Azure Application Insights</span><span class="sxs-lookup"><span data-stu-id="b5f1f-143">Azure Application Insights</span></span> | <span data-ttu-id="b5f1f-144">[Application Insights](/azure/azure-monitor/app/app-insights-overview) — это расширяемая служба управления производительностью приложений. Она предназначена для веб-разработчиков, создающих приложения и управляющих ими на нескольких платформах.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-144">[Application Insights](/azure/azure-monitor/app/app-insights-overview) is an extensible Application Performance Management service for web developers building and managing apps on multiple platforms.</span></span>|
| | <span data-ttu-id="b5f1f-145">Функции Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-145">Azure Functions</span></span> | <span data-ttu-id="b5f1f-146">[Функции Azure](/azure/azure-functions/) позволяют выполнять код в бессерверной среде без необходимости создавать виртуальную машину или публиковать веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-146">[Azure Functions](/azure/azure-functions/) allows you to execute your code in a serverless environment without having to first create a VM or publish a web app.</span></span> |
| | <span data-ttu-id="b5f1f-147">Автомасштабирование Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-147">Azure Autoscale</span></span> | <span data-ttu-id="b5f1f-148">[Автомасштабирование](/azure/azure-monitor/platform/autoscale-overview) — это встроенная функция Облачных служб, виртуальных машин и веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-148">[Autoscale](/azure/azure-monitor/platform/autoscale-overview) is a built-in feature of Cloud Services, VMs, and web apps.</span></span> <span data-ttu-id="b5f1f-149">Эта функция позволяет приложениям эффективно работать при изменении нагрузки.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-149">The feature allows apps to perform their best when demand changes.</span></span> <span data-ttu-id="b5f1f-150">Приложения могут адаптироваться к пикам трафика, уведомляя вас об изменении метрик и при необходимости выполняя масштабирование.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-150">Apps will adjust for traffic spikes, notifying you when metrics change and scaling as needed.</span></span> |
| <span data-ttu-id="b5f1f-151">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="b5f1f-151">Azure Stack Hub</span></span> | <span data-ttu-id="b5f1f-152">Вычисления IaaS</span><span class="sxs-lookup"><span data-stu-id="b5f1f-152">IaaS Compute</span></span> | <span data-ttu-id="b5f1f-153">Azure Stack Hub позволяет использовать модель приложения, портал самообслуживания и API так же, как в Azure.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-153">Azure Stack Hub allows you to use the same app model, self-service portal, and APIs enabled by Azure.</span></span> <span data-ttu-id="b5f1f-154">Azure Stack Hub IaaS поддерживает широкий спектр технологий с открытым кодом для согласованного развертывания в гибридном облаке.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-154">Azure Stack Hub IaaS allows a broad range of open-source technologies for consistent hybrid cloud deployments.</span></span> <span data-ttu-id="b5f1f-155">В примере решения используется виртуальная машина Windows Server для SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-155">The solution example uses a Windows Server VM to SQL Server, for example.</span></span>|
| | <span data-ttu-id="b5f1f-156">Служба приложений Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-156">Azure App Service</span></span> | <span data-ttu-id="b5f1f-157">Как и в веб-приложении Azure, в решении используется [Служба приложений Azure в Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) для размещения веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-157">Just like the Azure web app, the solution uses [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) to host the web app.</span></span> |
| | <span data-ttu-id="b5f1f-158">Сеть</span><span class="sxs-lookup"><span data-stu-id="b5f1f-158">Networking</span></span> | <span data-ttu-id="b5f1f-159">Виртуальная сеть Azure Stack Hub работает точно так же, как и виртуальная сеть Azure.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-159">The Azure Stack Hub Virtual Network works exactly like the Azure Virtual Network.</span></span> <span data-ttu-id="b5f1f-160">В ней используются множество тех же сетевых компонентов, включая пользовательские имена узлов.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-160">It uses many of the same networking components, including custom hostnames.</span></span>
| <span data-ttu-id="b5f1f-161">Azure DevOps Services</span><span class="sxs-lookup"><span data-stu-id="b5f1f-161">Azure DevOps Services</span></span> | <span data-ttu-id="b5f1f-162">Регистрация</span><span class="sxs-lookup"><span data-stu-id="b5f1f-162">Sign up</span></span> | <span data-ttu-id="b5f1f-163">Выполните быструю настройку непрерывной интеграции для сборки, тестирования и развертывания.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-163">Quickly set up continuous integration for build, test, and deployment.</span></span> <span data-ttu-id="b5f1f-164">Дополнительные сведения см. в статье [Quickstart: Sign up, sign in to Azure DevOps](/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops) (Краткое руководство. Регистрация и вход в Azure DevOps).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-164">For more information, see [Sign up, sign in to Azure DevOps](/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops).</span></span> |
| | <span data-ttu-id="b5f1f-165">Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="b5f1f-165">Azure Pipelines</span></span> | <span data-ttu-id="b5f1f-166">Используйте [Azure Pipelines](/azure/devops/pipelines/agents/agents?view=azure-devops) для непрерывной интеграции и поставки.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-166">Use [Azure Pipelines](/azure/devops/pipelines/agents/agents?view=azure-devops) for Continuous Integration/Continuous delivery.</span></span> <span data-ttu-id="b5f1f-167">Azure Pipelines позволяет управлять размещенными агентами сборок и выпусков, а также определениями.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-167">Azure Pipelines allows you to manage hosted build and release agents and definitions.</span></span> |
| | <span data-ttu-id="b5f1f-168">Репозиторий кода</span><span class="sxs-lookup"><span data-stu-id="b5f1f-168">Code repository</span></span> | <span data-ttu-id="b5f1f-169">Используйте несколько репозиториев кода, чтобы оптимизировать конвейер разработки,</span><span class="sxs-lookup"><span data-stu-id="b5f1f-169">Leverage multiple code repositories to streamline your development pipeline.</span></span> <span data-ttu-id="b5f1f-170">в том числе имеющиеся репозитории кода в GitHub, BitBucket, Dropbox, OneDrive и Azure Repos.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-170">Use existing code repositories in GitHub, Bitbucket, Dropbox, OneDrive, and Azure Repos.</span></span> |

## <a name="issues-and-considerations"></a><span data-ttu-id="b5f1f-171">Проблемы и рекомендации</span><span class="sxs-lookup"><span data-stu-id="b5f1f-171">Issues and considerations</span></span>

<span data-ttu-id="b5f1f-172">Во время выбора варианта реализации этого решения необходимо учитывать приведенные ниже моменты.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-172">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="b5f1f-173">Масштабируемость</span><span class="sxs-lookup"><span data-stu-id="b5f1f-173">Scalability</span></span>

<span data-ttu-id="b5f1f-174">Azure и Azure Stack Hub удовлетворяют требованиям современных глобально распределенных компаний.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-174">Azure and Azure Stack Hub are uniquely suited to support the needs of today's globally distributed business.</span></span>

#### <a name="hybrid-cloud-without-the-hassle"></a><span data-ttu-id="b5f1f-175">Быстрое создание гибридного облака</span><span class="sxs-lookup"><span data-stu-id="b5f1f-175">Hybrid cloud without the hassle</span></span>

<span data-ttu-id="b5f1f-176">Корпорация Майкрософт предлагает непревзойденную интеграцию локальных ресурсов с Azure Stack Hub и Azure в едином решении.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-176">Microsoft offers an unrivaled integration of on-premises assets with Azure Stack Hub and Azure in one unified solution.</span></span> <span data-ttu-id="b5f1f-177">Эта интеграция устраняет трудности управления многоточечными решениями и сочетанием поставщиков облачных служб.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-177">This integration eliminates the hassle of managing multiple point solutions and a mix of cloud providers.</span></span> <span data-ttu-id="b5f1f-178">При масштабировании в разных облаках можно легко организовать доступ к Azure, чтобы воспользоваться всеми возможностями этой облачной инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-178">With cross-cloud scaling, the power of Azure is just a few clicks away.</span></span> <span data-ttu-id="b5f1f-179">Просто подключите Azure Stack Hub к Azure, используя конфигурацию "выход в облако", и ваши данные и приложения будут доступны в Azure, когда это потребуется.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-179">Just connect your Azure Stack Hub to Azure with cloud bursting and your data and apps will be available in Azure when needed.</span></span>

- <span data-ttu-id="b5f1f-180">Устраните необходимость в создании и обслуживании дополнительного сайта аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-180">Eliminate the need to build and maintain a secondary DR site.</span></span>
- <span data-ttu-id="b5f1f-181">Сэкономьте время и деньги, устранив необходимость в резервном копировании на магнитную ленту и перейдя в Azure, где срок хранения данных составляет до 99 лет.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-181">Save time and money by eliminating tape backup and house up to 99 years of backup data in Azure.</span></span>
- <span data-ttu-id="b5f1f-182">С легкостью переносите рабочие нагрузки Hyper-V, Physical (предварительная версия) и VMware (предварительная версия) в Azure, чтобы воспользоваться экономичностью и эластичностью облака.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-182">Easily migrate running Hyper-V, Physical (in preview), and VMware (in preview) workloads into Azure to leverage the economics and elasticity of the cloud.</span></span>
- <span data-ttu-id="b5f1f-183">Запускайте в Azure отчеты или аналитику с ресурсоемкими вычислениями в реплицированной копии локального ресурса без ущерба для рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-183">Run compute intensive reports or analytics on a replicated copy of your on-premises asset in Azure without impacting production workloads.</span></span>
- <span data-ttu-id="b5f1f-184">Войдите в облако и выполняйте локальные рабочие нагрузки в Azure, используя при необходимости более крупные шаблоны вычислений.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-184">Burst into the cloud and run on-premises workloads in Azure, with larger compute templates when needed.</span></span> <span data-ttu-id="b5f1f-185">Гибридная среда предоставляет необходимые возможности, когда это необходимо.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-185">Hybrid gives you the power you need, when you need it.</span></span>
- <span data-ttu-id="b5f1f-186">В Azure можно быстро создавать многоуровневые среды разработки и даже реплицировать актуальные рабочие данные в среду разработки и тестирования для синхронизации практически в реальном времени.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-186">Create multi-tier development environments in Azure with a few clicks–even replicate live production data to your dev/test environment to keep it in near real-time sync.</span></span>

#### <a name="economy-of-cross-cloud-scaling-with-azure-stack-hub"></a><span data-ttu-id="b5f1f-187">Преимущества масштабирования в разных облаках с помощью Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="b5f1f-187">Economy of cross-cloud scaling with Azure Stack Hub</span></span>

<span data-ttu-id="b5f1f-188">Ключевым преимуществом выхода в облако является экономичность.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-188">The key advantage to cloud bursting is economical savings.</span></span> <span data-ttu-id="b5f1f-189">Вы платите за дополнительные ресурсы, только когда в них возникает потребность.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-189">You only pay for the additional resources when there's a demand for those resources.</span></span> <span data-ttu-id="b5f1f-190">Вам больше не нужно оплачивать неиспользуемый запас емкости или пытаться спрогнозировать пиковые нагрузки и колебания.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-190">No more spending on unnecessary extra capacity or trying to predict demand peaks and fluctuations.</span></span>

#### <a name="reduce-high-demand-loads-into-the-cloud"></a><span data-ttu-id="b5f1f-191">Сглаживание пиковых нагрузок за счет подключения другого облака</span><span class="sxs-lookup"><span data-stu-id="b5f1f-191">Reduce high demand loads into the cloud</span></span>

<span data-ttu-id="b5f1f-192">Масштабирование в разных облаках позволяет сглаживать рост нагрузки.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-192">Cross-cloud scaling can be used to shoulder processing burdens.</span></span> <span data-ttu-id="b5f1f-193">Нагрузка распределяется за счет перемещения основных приложений в общедоступное облако, что позволяет освободить локальные ресурсы для приложений, критически важных для бизнеса.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-193">Load is distributed by moving basic apps to the public cloud, freeing up local resources for business-critical apps.</span></span> <span data-ttu-id="b5f1f-194">Приложение можно разместить в частном облаке, а при росте нагрузки осуществить выход в общедоступное облако.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-194">An app can be applied to the private cloud, then burst to the public cloud only when necessary to meet demands.</span></span>

### <a name="availability"></a><span data-ttu-id="b5f1f-195">Доступность</span><span class="sxs-lookup"><span data-stu-id="b5f1f-195">Availability</span></span>

<span data-ttu-id="b5f1f-196">Глобальное развертывание сопровождается рядом трудностей, которые могут быть обусловлены разными возможностями подключения и региональными законодательными требованиями.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-196">Global deployment has its own challenges, like variable connectivity and differing government regulations by region.</span></span> <span data-ttu-id="b5f1f-197">Разработчики могут разработать только одно приложение, а затем развертывать его, руководствуясь различными соображениями и различными требованиями.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-197">Developers can develop just one app and then deploy it across different reasons with different requirements.</span></span> <span data-ttu-id="b5f1f-198">Разверните приложение в общедоступном облаке Azure, а его дополнительные экземпляры или компоненты – локально.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-198">Deploy your app to the Azure public cloud, then deploy additional instances or components locally.</span></span> <span data-ttu-id="b5f1f-199">Вы можете управлять трафиком между всеми экземплярами с помощью Azure.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-199">You can manage traffic between all instances using Azure.</span></span>

### <a name="manageability"></a><span data-ttu-id="b5f1f-200">Управляемость</span><span class="sxs-lookup"><span data-stu-id="b5f1f-200">Manageability</span></span>

#### <a name="a-single-consistent-development-approach"></a><span data-ttu-id="b5f1f-201">Единый согласованный подход к разработке</span><span class="sxs-lookup"><span data-stu-id="b5f1f-201">A single, consistent development approach</span></span>

<span data-ttu-id="b5f1f-202">Azure и Azure Stack Hub позволяют использовать в организации согласованный набор средств разработки.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-202">Azure and Azure Stack Hub let you use a consistent set of development tools across the organization.</span></span> <span data-ttu-id="b5f1f-203">Такая согласованность упрощает реализацию непрерывной интеграции и разработки (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-203">This consistency makes it easier to implement a practice of continuous integration and continuous development (CI/CD).</span></span> <span data-ttu-id="b5f1f-204">Многие приложения и службы, развертываемые в Azure или Azure Stack Hub, взаимозаменяемы и могут эффективно выполняться в любом из этих расположений.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-204">Many apps and services deployed in Azure or Azure Stack Hub are interchangeable and can run in either location seamlessly.</span></span>

<span data-ttu-id="b5f1f-205">С помощью гибридного конвейера CI/CD можно сделать следующее:</span><span class="sxs-lookup"><span data-stu-id="b5f1f-205">A hybrid CI/CD pipeline can help you:</span></span>

- <span data-ttu-id="b5f1f-206">инициировать новую сборку при фиксации кода в вашем репозитории;</span><span class="sxs-lookup"><span data-stu-id="b5f1f-206">Initiate a new build based on code commits to your code repository.</span></span>
- <span data-ttu-id="b5f1f-207">Автоматически развернуть созданный код в Azure для пользовательского приемочного тестирования.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-207">Automatically deploy your newly built code to Azure for user acceptance testing.</span></span>
- <span data-ttu-id="b5f1f-208">как только ваш код прошел тестирование, автоматически развернуть его в Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-208">Once your code has passed testing, automatically deploy to Azure Stack Hub.</span></span>

### <a name="a-single-consistent-identity-management-solution"></a><span data-ttu-id="b5f1f-209">Единое согласованное решение для управления удостоверениями</span><span class="sxs-lookup"><span data-stu-id="b5f1f-209">A single, consistent identity management solution</span></span>

<span data-ttu-id="b5f1f-210">Azure Stack Hub работает с Azure Active Directory и службами федерации Active Directory (AD FS).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-210">Azure Stack Hub works with both Azure Active Directory (Azure AD) and Active Directory Federation Services (ADFS).</span></span> <span data-ttu-id="b5f1f-211">Azure Stack Hub может работать с Azure AD в сценариях с подключением.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-211">Azure Stack Hub works with Azure AD in connected scenarios.</span></span> <span data-ttu-id="b5f1f-212">Для сред без подключения ADFS можно использовать в качестве отключенного решения.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-212">For environments that don't have connectivity, you can use ADFS as a disconnected solution.</span></span> <span data-ttu-id="b5f1f-213">Субъекты-службы используются для предоставления доступа к приложениям, позволяя развертывать или настраивать ресурсы с помощью Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-213">Service principals are used to grant access to apps, allowing them to deploy or configure resources through Azure Resource Manager.</span></span>

### <a name="security"></a><span data-ttu-id="b5f1f-214">Безопасность</span><span class="sxs-lookup"><span data-stu-id="b5f1f-214">Security</span></span>

#### <a name="ensure-compliance-and-data-sovereignty"></a><span data-ttu-id="b5f1f-215">Соответствие требованиям и независимость данных</span><span class="sxs-lookup"><span data-stu-id="b5f1f-215">Ensure compliance, and data sovereignty</span></span>

<span data-ttu-id="b5f1f-216">Azure Stack Hub позволяет запускать одну и ту же службу в нескольких странах так же, как при использовании общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-216">Azure Stack Hub lets you run the same service across multiple countries as you would if using a public cloud.</span></span> <span data-ttu-id="b5f1f-217">Развертывание одного приложения в центрах обработки данных в каждой стране позволяет обеспечить соблюдение требований и независимость данных.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-217">Deploying the same app in datacenters in each country allows data sovereignty requirements to be met.</span></span> <span data-ttu-id="b5f1f-218">Это позволяет хранить персональные данные пользователей на территории их стран.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-218">This capability ensures personal data is kept within each country's borders.</span></span>

#### <a name="azure-stack-hub---security-posture"></a><span data-ttu-id="b5f1f-219">Уровень безопасности в Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="b5f1f-219">Azure Stack Hub - security posture</span></span>

<span data-ttu-id="b5f1f-220">Уровень безопасности можно обеспечить только с помощью надежного непрерывного процесса обслуживания.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-220">There's no security posture without a solid, continuous servicing process.</span></span> <span data-ttu-id="b5f1f-221">По этой причине корпорация Майкрософт вкладывает средства в механизм оркестрации, который с легкостью применяет исправления и обновления для всей инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-221">For this reason, Microsoft invested in an orchestration engine that applies patches and updates seamlessly across the entire infrastructure.</span></span>

<span data-ttu-id="b5f1f-222">К компонентам, поставляемым партнерами (изготовителями оборудования) Azure Stack Hub, например узлам жизненного цикла оборудования и работающему на них ПО, корпорация Майкрософт предъявляет те же требования в отношении уровня безопасности, что и к своим продуктам.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-222">Thanks to partnerships with Azure Stack Hub OEM partners, Microsoft extends the same security posture to OEM-specific components, like the Hardware Lifecycle Host and the software running on top of it.</span></span> <span data-ttu-id="b5f1f-223">Это сотрудничество гарантирует, что Azure Stack Hub предусматривает единый и надежный уровень безопасности во всей инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-223">This partnership ensures Azure Stack Hub has a uniform, solid security posture across the entire infrastructure.</span></span> <span data-ttu-id="b5f1f-224">Клиенты, в свою очередь, могут создавать и защищать рабочие нагрузки приложений.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-224">In turn, customers can build and secure their app workloads.</span></span>

#### <a name="use-of-service-principals-via-powershell-cli-and-azure-portal"></a><span data-ttu-id="b5f1f-225">Использование субъектов-служб с помощью PowerShell, CLI и портала Azure</span><span class="sxs-lookup"><span data-stu-id="b5f1f-225">Use of service principals via PowerShell, CLI, and Azure portal</span></span>

<span data-ttu-id="b5f1f-226">Чтобы предоставить доступ к ресурсам скрипту или приложению, вы можете настроить для вашего приложения идентификатор и выполнить для него проверку подлинности с помощью собственных учетных данных.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-226">To give resource access to a script or app, set up an identity for your app and authenticate the app with its own credentials.</span></span> <span data-ttu-id="b5f1f-227">Такое удостоверение называется субъектом-службой и позволяет сделать следующее:</span><span class="sxs-lookup"><span data-stu-id="b5f1f-227">This identity is known as a service principal and lets you:</span></span>

- <span data-ttu-id="b5f1f-228">Назначить для удостоверения приложения разрешения, которые отличаются от ваших разрешений и ограничиваются только требованиями приложения.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-228">Assign permissions to the app identity that are different than your own permissions and are restricted to precisely the app's needs.</span></span>
- <span data-ttu-id="b5f1f-229">Использовать сертификат для аутентификации при выполнении автоматического сценария.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-229">Use a certificate for authentication when executing an unattended script.</span></span>

<span data-ttu-id="b5f1f-230">См. сведения о создании субъекта-службы и использовании сертификата для учетных данных в руководстве по [использованию удостоверения приложения для доступа к ресурсам](/azure-stack/operator/azure-stack-create-service-principals).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-230">For more information about service principal creation and using a certificate for credentials, see [Use an app identity to access resources](/azure-stack/operator/azure-stack-create-service-principals).</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="b5f1f-231">Когда следует использовать этот шаблон</span><span class="sxs-lookup"><span data-stu-id="b5f1f-231">When to use this pattern</span></span>

- <span data-ttu-id="b5f1f-232">Моя организация уже использует подход DevOps или намерена применить его в ближайшем будущем.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-232">My organization is using a DevOps approach, or has one planned for the near future.</span></span>
- <span data-ttu-id="b5f1f-233">Я хочу реализовать методы CI/CD для своей реализации Azure Stack Hub и общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-233">I want to implement CI/CD practices across my Azure Stack Hub implementation and the public cloud.</span></span>
- <span data-ttu-id="b5f1f-234">Я хочу объединить конвейеры CI/CD, размещенные в облачных и локальных средах.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-234">I want to consolidate the CI/CD pipeline across cloud and on-premises environments.</span></span>
- <span data-ttu-id="b5f1f-235">Мне нужна возможность непрерывной разработки приложений в облачной или локальной службе.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-235">I want the ability to develop apps seamlessly using cloud or on-premises services.</span></span>
- <span data-ttu-id="b5f1f-236">Я хочу единообразно применять навыки разработки для облачных и локальных приложений.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-236">I want to leverage consistent developer skills across cloud and on-premises apps.</span></span>
- <span data-ttu-id="b5f1f-237">Я использую Azure, но у меня есть разработчики, работающие в локальном облаке Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-237">I'm using Azure but I have developers who are working in an on-premises Azure Stack Hub cloud.</span></span>
- <span data-ttu-id="b5f1f-238">В моих локальных приложениях наблюдаются пиковые нагрузки при сезонных, циклических или произвольных колебаниях спроса.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-238">My on-premises apps experience spikes in demand during seasonal, cyclical, or unpredictable fluctuations.</span></span>
- <span data-ttu-id="b5f1f-239">У меня есть локальные компоненты и я хочу использовать облако для их эффективного масштабирования.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-239">I have on-premises components and I want to use the cloud to scale them seamlessly.</span></span>
- <span data-ttu-id="b5f1f-240">Мне нужна взможность масштабирования в облако, но при этом приложение должно выполняться преимущественно в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-240">I want cloud scalability but I want my app to run on-premises as much as possible.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b5f1f-241">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b5f1f-241">Next steps</span></span>

<span data-ttu-id="b5f1f-242">Дополнительные сведения по темам, описанным в этой статье:</span><span class="sxs-lookup"><span data-stu-id="b5f1f-242">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="b5f1f-243">Обзор использования этого шаблона см. в видеоролике о [динамическом масштабировании приложений между центрами обработки данных и общедоступным облаком](https://www.youtube.com/watch?v=2lw8zOpJTn0).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-243">Watch [Dynamically scale apps between datacenters and public cloud](https://www.youtube.com/watch?v=2lw8zOpJTn0) for an overview of how this pattern is used.</span></span>
- <span data-ttu-id="b5f1f-244">См. [рекомендации по проектированию гибридных приложений и ответы на дополнительные вопросы](overview-app-design-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-244">See [Hybrid app design considerations](overview-app-design-considerations.md) to learn more about best practices and to answer additional questions you might have.</span></span>
- <span data-ttu-id="b5f1f-245">В этом шаблоне используется семейство продуктов Azure Stack, включая Azure Stack Hub.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-245">This pattern uses the Azure Stack family of products, including Azure Stack Hub.</span></span> <span data-ttu-id="b5f1f-246">См. сведения обо [всех продуктах и решениях Azure Stack](/azure-stack).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-246">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="b5f1f-247">Когда вы будете готовы протестировать пример решения, продолжите работу с руководством по [развертыванию решения для масштабирования в разных облаках (локальные данные)](solution-deployment-guide-cross-cloud-scaling-onprem-data.md).</span><span class="sxs-lookup"><span data-stu-id="b5f1f-247">When you're ready to test the solution example, continue with the [cross-cloud scaling (on-premises data) solution deployment guide](solution-deployment-guide-cross-cloud-scaling-onprem-data.md).</span></span> <span data-ttu-id="b5f1f-248">В этом руководстве содержатся пошаговые инструкции по развертыванию и тестированию компонентов.</span><span class="sxs-lookup"><span data-stu-id="b5f1f-248">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
